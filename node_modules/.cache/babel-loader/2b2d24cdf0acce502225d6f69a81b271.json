{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/453543/spl-wallet-jodc/src/App.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$(),\n    _s3 = $RefreshSig$();\n\nimport React, { Suspense, useState } from 'react';\nimport { makeStyles, List, ListItem } from '@material-ui/core';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\nimport { ThemeProvider, unstable_createMuiStrictModeTheme as createMuiTheme } from '@material-ui/core/styles';\nimport blue from '@material-ui/core/colors/blue';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport Button from '@material-ui/core/Button';\nimport Typography from '@material-ui/core/Typography';\nimport DialogForm from './components/DialogForm';\nimport NavigationFrame from './components/NavigationFrame';\nimport { ConnectionProvider } from './utils/connection';\nimport WalletPage from './pages/WalletPage';\nimport { useWallet, WalletProvider } from './utils/wallet';\nimport { ConnectedWalletsProvider } from './utils/connected-wallets';\nimport { TokenRegistryProvider } from './utils/tokens/names';\nimport LoadingIndicator from './components/LoadingIndicator';\nimport { SnackbarProvider } from 'notistack';\nimport PopupPage from './pages/PopupPage';\nimport LoginPage from './pages/LoginPage';\nimport ConnectionsPage from './pages/ConnectionsPage';\nimport { isExtension } from './utils/utils';\nimport { PageProvider, usePage } from './utils/page';\nexport default function App() {\n  _s();\n\n  // TODO: add toggle for dark mode\n  const prefersDarkMode = useMediaQuery('(prefers-color-scheme: dark)');\n  const theme = React.useMemo(() => createMuiTheme({\n    palette: {\n      type: prefersDarkMode ? 'dark' : 'light',\n      primary: {\n        main: '#a632a8'\n      },\n      secondary: {\n        main: '#003E00'\n      }\n    },\n    // TODO consolidate popup dimensions\n    ext: '450'\n  }), [prefersDarkMode]); // Disallow rendering inside an iframe to prevent clickjacking.\n\n  if (window.self !== window.top) {\n    return null;\n  }\n\n  let appElement = /*#__PURE__*/_jsxDEV(NavigationFrame, {\n    children: /*#__PURE__*/_jsxDEV(Suspense, {\n      fallback: /*#__PURE__*/_jsxDEV(LoadingIndicator, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 27\n      }, this),\n      children: /*#__PURE__*/_jsxDEV(PageContents, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 5\n  }, this);\n\n  if (isExtension) {\n    appElement = /*#__PURE__*/_jsxDEV(ConnectedWalletsProvider, {\n      children: /*#__PURE__*/_jsxDEV(PageProvider, {\n        children: appElement\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(Suspense, {\n    fallback: /*#__PURE__*/_jsxDEV(LoadingIndicator, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 25\n    }, this),\n    children: /*#__PURE__*/_jsxDEV(ThemeProvider, {\n      theme: theme,\n      children: [/*#__PURE__*/_jsxDEV(CssBaseline, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ConnectionProvider, {\n        children: /*#__PURE__*/_jsxDEV(TokenRegistryProvider, {\n          children: /*#__PURE__*/_jsxDEV(SnackbarProvider, {\n            maxSnack: 5,\n            autoHideDuration: 8000,\n            children: /*#__PURE__*/_jsxDEV(WalletProvider, {\n              children: appElement\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 77,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 71,\n    columnNumber: 5\n  }, this);\n}\n\n_s(App, \"s6GPQHExF/FrDfB4Jza+zlx2KnY=\", false, function () {\n  return [useMediaQuery];\n});\n\n_c = App;\n\nfunction PageContents() {\n  _s2();\n\n  const wallet = useWallet();\n  const [page] = usePage();\n  const [showWalletSuggestion, setShowWalletSuggestion] = useState(true);\n  const suggestionKey = 'private-irgnore-wallet-suggestion';\n  const ignoreSuggestion = window.localStorage.getItem(suggestionKey);\n  console.log('Baz working start');\n\n  if (!wallet) {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [!ignoreSuggestion && /*#__PURE__*/_jsxDEV(WalletSuggestionDialog, {\n        open: showWalletSuggestion,\n        onClose: () => setShowWalletSuggestion(false),\n        onIgnore: () => {\n          window.localStorage.setItem(suggestionKey, true);\n          setShowWalletSuggestion(false);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(LoginPage, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true);\n  }\n\n  if (window.opener) {\n    return /*#__PURE__*/_jsxDEV(PopupPage, {\n      opener: window.opener\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 12\n    }, this);\n  }\n\n  if (page === 'wallet') {\n    return /*#__PURE__*/_jsxDEV(WalletPage, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 12\n    }, this);\n  } else if (page === 'connections') {\n    return /*#__PURE__*/_jsxDEV(ConnectionsPage, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 12\n    }, this);\n  }\n}\n\n_s2(PageContents, \"EQvMqAk4K7NJtvTGy1eTy685TSY=\", false, function () {\n  return [useWallet, usePage];\n});\n\n_c2 = PageContents;\nconst useStyles = makeStyles(() => ({\n  walletButton: {\n    width: '100%',\n    padding: '16px',\n    '&:hover': {\n      cursor: 'pointer'\n    }\n  }\n}));\n\nfunction WalletSuggestionDialog({\n  open,\n  onClose,\n  onIgnore\n}) {\n  _s3();\n\n  const classes = useStyles();\n  return /*#__PURE__*/_jsxDEV(DialogForm, {\n    open: open,\n    onClose: onClose,\n    fullWidth: true,\n    children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n      children: \"Looking for a Wallet?\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(DialogContent, {\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        children: [\"Sollet is an\", ' ', /*#__PURE__*/_jsxDEV(\"a\", {\n          style: {\n            color: 'inherit'\n          },\n          href: \"https://github.com/project-serum/spl-token-wallet\",\n          target: \"__blank\",\n          children: [' ', \"open source\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 11\n        }, this), ' ', \"wallet for advanced users and developers. For the best Solana experience and user support, it is recommended to use \", /*#__PURE__*/_jsxDEV(\"b\", {\n          children: \"Phantom\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 65\n        }, this), ' ', \"or \", /*#__PURE__*/_jsxDEV(\"b\", {\n          children: \"Solflare\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 14\n        }, this), \".\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(List, {\n        disablePadding: true,\n        style: {\n          marginTop: '16px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(ListItem, {\n          button: true,\n          disablePadding: true,\n          style: {\n            padding: 0\n          },\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: classes.walletButton,\n            style: {\n              display: 'flex'\n            },\n            onClick: () => {\n              window.location = 'https://phantom.app/';\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [\"// eslint-disable-next-line\", /*#__PURE__*/_jsxDEV(\"img\", {\n                style: {\n                  height: '39px'\n                },\n                src: \"https://raw.githubusercontent.com/solana-labs/wallet-adapter/master/packages/wallets/icons/phantom.svg\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 163,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 161,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: /*#__PURE__*/_jsxDEV(Typography, {\n                style: {\n                  marginLeft: '16px',\n                  display: 'flex',\n                  justifyContent: 'center',\n                  flexDirection: 'column',\n                  height: '39px',\n                  fontWeight: 'bold'\n                },\n                children: \"Phantom\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 169,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 168,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 154,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(ListItem, {\n          button: true,\n          disablePadding: true,\n          style: {\n            padding: 0\n          },\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            onClick: () => {\n              window.location = 'https://solflare.com/';\n            },\n            className: classes.walletButton,\n            style: {\n              display: 'flex'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                style: {\n                  height: '39px'\n                },\n                src: \"https://raw.githubusercontent.com/solana-labs/wallet-adapter/master/packages/wallets/icons/solflare.svg\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 193,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 192,\n              columnNumber: 15\n            }, this), \"// eslint-disable-next-line\", /*#__PURE__*/_jsxDEV(\"div\", {\n              children: /*#__PURE__*/_jsxDEV(Typography, {\n                style: {\n                  marginLeft: '16px',\n                  display: 'flex',\n                  justifyContent: 'center',\n                  flexDirection: 'column',\n                  height: '39px',\n                  fontWeight: 'bold'\n                },\n                children: \"Solflare\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 200,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 199,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 185,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(DialogActions, {\n      children: [/*#__PURE__*/_jsxDEV(Button, {\n        type: \"submit\",\n        color: \"primary\",\n        onClick: onIgnore,\n        children: \"Ignore Future Dialog\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 218,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        type: \"submit\",\n        color: \"primary\",\n        onClick: onClose,\n        children: \"Ok\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 217,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 133,\n    columnNumber: 5\n  }, this);\n}\n\n_s3(WalletSuggestionDialog, \"8g5FPXexvSEOsxdmU7HicukHGqY=\", false, function () {\n  return [useStyles];\n});\n\n_c3 = WalletSuggestionDialog;\n\nvar _c, _c2, _c3;\n\n$RefreshReg$(_c, \"App\");\n$RefreshReg$(_c2, \"PageContents\");\n$RefreshReg$(_c3, \"WalletSuggestionDialog\");","map":{"version":3,"sources":["/Users/453543/spl-wallet-jodc/src/App.js"],"names":["React","Suspense","useState","makeStyles","List","ListItem","CssBaseline","useMediaQuery","ThemeProvider","unstable_createMuiStrictModeTheme","createMuiTheme","blue","DialogTitle","DialogContent","DialogActions","Button","Typography","DialogForm","NavigationFrame","ConnectionProvider","WalletPage","useWallet","WalletProvider","ConnectedWalletsProvider","TokenRegistryProvider","LoadingIndicator","SnackbarProvider","PopupPage","LoginPage","ConnectionsPage","isExtension","PageProvider","usePage","App","prefersDarkMode","theme","useMemo","palette","type","primary","main","secondary","ext","window","self","top","appElement","PageContents","wallet","page","showWalletSuggestion","setShowWalletSuggestion","suggestionKey","ignoreSuggestion","localStorage","getItem","console","log","setItem","opener","useStyles","walletButton","width","padding","cursor","WalletSuggestionDialog","open","onClose","onIgnore","classes","color","marginTop","display","location","height","marginLeft","justifyContent","flexDirection","fontWeight"],"mappings":"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","sourcesContent":["import React, { Suspense, useState } from 'react';\nimport { makeStyles, List, ListItem } from '@material-ui/core';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\nimport {\n  ThemeProvider,\n  unstable_createMuiStrictModeTheme as createMuiTheme,\n} from '@material-ui/core/styles';\nimport blue from '@material-ui/core/colors/blue';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport Button from '@material-ui/core/Button';\nimport Typography from '@material-ui/core/Typography';\nimport DialogForm from './components/DialogForm';\nimport NavigationFrame from './components/NavigationFrame';\nimport { ConnectionProvider } from './utils/connection';\nimport WalletPage from './pages/WalletPage';\nimport { useWallet, WalletProvider } from './utils/wallet';\nimport { ConnectedWalletsProvider } from './utils/connected-wallets';\nimport { TokenRegistryProvider } from './utils/tokens/names';\nimport LoadingIndicator from './components/LoadingIndicator';\nimport { SnackbarProvider } from 'notistack';\nimport PopupPage from './pages/PopupPage';\nimport LoginPage from './pages/LoginPage';\nimport ConnectionsPage from './pages/ConnectionsPage';\nimport { isExtension } from './utils/utils';\nimport { PageProvider, usePage } from './utils/page';\n\nexport default function App() {\n  // TODO: add toggle for dark mode\n  const prefersDarkMode = useMediaQuery('(prefers-color-scheme: dark)');\n  const theme = React.useMemo(\n    () =>\n      createMuiTheme({\n        palette: {\n          type: prefersDarkMode ? 'dark' : 'light',\n          primary: {\n            main: '#a632a8',\n          },\n          secondary: { main: '#003E00' },\n        },\n        // TODO consolidate popup dimensions\n        ext: '450',\n      }),\n    [prefersDarkMode],\n  );\n\n  // Disallow rendering inside an iframe to prevent clickjacking.\n  if (window.self !== window.top) {\n    return null;\n  }\n\n  let appElement = (\n    <NavigationFrame>\n      <Suspense fallback={<LoadingIndicator />}>\n        <PageContents />\n      </Suspense>\n    </NavigationFrame>\n  );\n\n  if (isExtension) {\n    appElement = (\n      <ConnectedWalletsProvider>\n        <PageProvider>{appElement}</PageProvider>\n      </ConnectedWalletsProvider>\n    );\n  }\n\n  return (\n    <Suspense fallback={<LoadingIndicator />}>\n      <ThemeProvider theme={theme}>\n        <CssBaseline />\n        <ConnectionProvider>\n          <TokenRegistryProvider>\n            <SnackbarProvider maxSnack={5} autoHideDuration={8000}>\n              <WalletProvider>{appElement}</WalletProvider>\n            </SnackbarProvider>\n          </TokenRegistryProvider>\n        </ConnectionProvider>\n      </ThemeProvider>\n    </Suspense>\n  );\n}\n\nfunction PageContents() {\n  const wallet = useWallet();\n  const [page] = usePage();\n  const [showWalletSuggestion, setShowWalletSuggestion] = useState(true);\n  const suggestionKey = 'private-irgnore-wallet-suggestion';\n  const ignoreSuggestion = window.localStorage.getItem(suggestionKey);\n  console.log('Baz working start');\n  if (!wallet) {\n    return (\n      <>\n        {!ignoreSuggestion && (\n          <WalletSuggestionDialog\n            open={showWalletSuggestion}\n            onClose={() => setShowWalletSuggestion(false)}\n            onIgnore={() => {\n              window.localStorage.setItem(suggestionKey, true);\n              setShowWalletSuggestion(false);\n            }}\n          />\n        )}\n        <LoginPage />\n      </>\n    );\n  }\n  if (window.opener) {\n    return <PopupPage opener={window.opener} />;\n  }\n  if (page === 'wallet') {\n    return <WalletPage />;\n  } else if (page === 'connections') {\n    return <ConnectionsPage />;\n  }\n}\n\nconst useStyles = makeStyles(() => ({\n  walletButton: {\n    width: '100%',\n    padding: '16px',\n    '&:hover': {\n      cursor: 'pointer',\n    },\n  },\n}));\n\nfunction WalletSuggestionDialog({ open, onClose, onIgnore }) {\n  const classes = useStyles();\n  return (\n    <DialogForm open={open} onClose={onClose} fullWidth>\n      <DialogTitle>Looking for a Wallet?</DialogTitle>\n      <DialogContent>\n        <Typography>\n          Sollet is an{' '}\n          <a\n            style={{ color: 'inherit' }}\n            href=\"https://github.com/project-serum/spl-token-wallet\"\n            target=\"__blank\"\n          >\n            {' '}\n            open source\n          </a>{' '}\n          wallet for advanced users and developers. For the best Solana\n          experience and user support, it is recommended to use <b>\n            Phantom\n          </b>{' '}\n          or <b>Solflare</b>.\n        </Typography>\n        <List disablePadding style={{ marginTop: '16px' }}>\n          <ListItem button disablePadding style={{ padding: 0 }}>\n            <div\n              className={classes.walletButton}\n              style={{ display: 'flex' }}\n              onClick={() => {\n                window.location = 'https://phantom.app/';\n              }}\n            >\n              <div>\n                // eslint-disable-next-line\n                <img\n                  style={{ height: '39px' }}\n                  src=\"https://raw.githubusercontent.com/solana-labs/wallet-adapter/master/packages/wallets/icons/phantom.svg\"\n                />\n              </div>\n              <div>\n                <Typography\n                  style={{\n                    marginLeft: '16px',\n                    display: 'flex',\n                    justifyContent: 'center',\n                    flexDirection: 'column',\n                    height: '39px',\n                    fontWeight: 'bold',\n                  }}\n                >\n                  Phantom\n                </Typography>\n              </div>\n            </div>\n          </ListItem>\n          <ListItem button disablePadding style={{ padding: 0 }}>\n            <div\n              onClick={() => {\n                window.location = 'https://solflare.com/';\n              }}\n              className={classes.walletButton}\n              style={{ display: 'flex' }}\n            >\n              <div>\n                <img\n                  style={{ height: '39px' }}\n                  src=\"https://raw.githubusercontent.com/solana-labs/wallet-adapter/master/packages/wallets/icons/solflare.svg\"\n                />\n              </div>\n              // eslint-disable-next-line\n              <div>\n                <Typography\n                  style={{\n                    marginLeft: '16px',\n                    display: 'flex',\n                    justifyContent: 'center',\n                    flexDirection: 'column',\n                    height: '39px',\n                    fontWeight: 'bold',\n                  }}\n                >\n                  Solflare\n                </Typography>\n              </div>\n            </div>\n          </ListItem>\n        </List>\n      </DialogContent>\n      <DialogActions>\n        <Button type=\"submit\" color=\"primary\" onClick={onIgnore}>\n          Ignore Future Dialog\n        </Button>\n        <Button type=\"submit\" color=\"primary\" onClick={onClose}>\n          Ok\n        </Button>\n      </DialogActions>\n    </DialogForm>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}