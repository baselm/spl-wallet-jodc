{"ast":null,"code":"\"use strict\";\n\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  Object.defineProperty(o, k2, {\n    enumerable: true,\n    get: function () {\n      return m[k];\n    }\n  });\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\n\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\n\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n\n  __setModuleDefault(result, mod);\n\n  return result;\n};\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.SettingsButton = void 0;\n\nvar jsx_runtime_1 = require(\"react/jsx-runtime\");\n\nvar react_1 = require(\"react\");\n\nvar core_1 = require(\"@material-ui/core\");\n\nvar icons_1 = require(\"@material-ui/icons\");\n\nvar material_ui_popup_state_1 = __importStar(require(\"material-ui-popup-state\"));\n\nvar Swap_1 = require(\"../context/Swap\");\n\nvar Dex_1 = require(\"../context/Dex\");\n\nvar OpenOrdersDialog_1 = __importDefault(require(\"./OpenOrdersDialog\"));\n\nvar useStyles = core_1.makeStyles(function (theme) {\n  return {\n    tab: {\n      width: \"50%\"\n    },\n    table: {},\n    settingsButton: {\n      padding: 0,\n      color: theme.palette.primary.main\n    },\n    closeAccountSwitchLabel: {\n      color: theme.palette.text.secondary\n    },\n    fairAutoSelected: {\n      backgroundColor: theme.palette.primary.main,\n      padding: \"3px 5px\",\n      borderRadius: \"10px\",\n      color: theme.palette.primary.contrastText,\n      fontWeight: 700\n    },\n    fairAuto: {\n      backgroundColor: theme.palette.type === \"dark\" ? theme.palette.secondary.light : theme.palette.secondary.main,\n      padding: \"3px 5px\",\n      borderRadius: \"10px\",\n      boxShadow: \"none\"\n    }\n  };\n});\n\nfunction SettingsButton() {\n  var styles = useStyles();\n  return jsx_runtime_1.jsx(material_ui_popup_state_1.default, __assign({\n    variant: \"popover\"\n  }, {\n    children: //@ts-ignore\n    function (popupState) {\n      return jsx_runtime_1.jsxs(\"div\", {\n        children: [jsx_runtime_1.jsx(core_1.IconButton, __assign({}, material_ui_popup_state_1.bindTrigger(popupState), {\n          className: styles.settingsButton\n        }, {\n          children: jsx_runtime_1.jsx(icons_1.SettingsOutlined, {}, void 0)\n        }), void 0), jsx_runtime_1.jsx(core_1.Popover, __assign({}, material_ui_popup_state_1.bindPopover(popupState), {\n          anchorOrigin: {\n            vertical: \"bottom\",\n            horizontal: \"left\"\n          },\n          transformOrigin: {\n            vertical: \"top\",\n            horizontal: \"right\"\n          },\n          PaperProps: {\n            style: {\n              borderRadius: \"10px\",\n              boxShadow: \"0px 0px 30px 5px rgba(0,0,0,0.075)\"\n            }\n          }\n        }, {\n          children: jsx_runtime_1.jsx(SettingsDetails, {}, void 0)\n        }), void 0)]\n      }, void 0);\n    }\n  }), void 0);\n}\n\nexports.SettingsButton = SettingsButton;\n\nfunction SettingsDetails() {\n  var styles = useStyles();\n\n  var _a = Swap_1.useSwapContext(),\n      slippage = _a.slippage,\n      setSlippage = _a.setSlippage,\n      fairOverride = _a.fairOverride,\n      setFairOverride = _a.setFairOverride;\n\n  var _b = react_1.useState(false),\n      showSettingsDialog = _b[0],\n      setShowSettingsDialog = _b[1];\n\n  var fair = Swap_1.useSwapFair();\n  var swapClient = Dex_1.useDexContext().swapClient;\n\n  var setSlippageHandler = function (value) {\n    setSlippage(!value || value < 0 ? 0 : value);\n  };\n\n  return jsx_runtime_1.jsxs(\"div\", __assign({\n    style: {\n      padding: \"15px\",\n      width: \"305px\"\n    }\n  }, {\n    children: [jsx_runtime_1.jsx(core_1.Typography, __assign({\n      style: {\n        fontWeight: \"bold\"\n      }\n    }, {\n      children: \"Settings\"\n    }), void 0), jsx_runtime_1.jsxs(\"div\", {\n      children: [jsx_runtime_1.jsxs(\"div\", __assign({\n        style: {\n          marginTop: \"10px\"\n        }\n      }, {\n        children: [jsx_runtime_1.jsx(core_1.Typography, __assign({\n          color: \"textSecondary\",\n          style: {\n            fontSize: \"12px\"\n          }\n        }, {\n          children: \"Slippage tolerance\"\n        }), void 0), jsx_runtime_1.jsx(core_1.TextField, {\n          type: \"number\",\n          placeholder: \"Error tolerance percentage\",\n          value: slippage,\n          onChange: function (e) {\n            return setSlippageHandler(parseFloat(e.target.value));\n          },\n          style: {\n            display: \"flex\",\n            justifyContent: \"center\",\n            flexDirection: \"column\"\n          },\n          InputProps: {\n            endAdornment: jsx_runtime_1.jsx(core_1.InputAdornment, __assign({\n              position: \"end\"\n            }, {\n              children: \"%\"\n            }), void 0)\n          }\n        }, void 0)]\n      }), void 0), jsx_runtime_1.jsxs(\"div\", __assign({\n        style: {\n          marginTop: \"10px\"\n        }\n      }, {\n        children: [jsx_runtime_1.jsx(core_1.Typography, __assign({\n          color: \"textSecondary\",\n          style: {\n            fontSize: \"12px\"\n          }\n        }, {\n          children: \"Fair price\"\n        }), void 0), jsx_runtime_1.jsxs(\"div\", __assign({\n          style: {\n            display: \"flex\"\n          }\n        }, {\n          children: [jsx_runtime_1.jsx(core_1.TextField, {\n            type: \"number\",\n            placeholder: \"Fair price override\",\n            value: fair,\n            onChange: function (e) {\n              return setFairOverride(parseFloat(e.target.value));\n            },\n            style: {\n              marginRight: \"10px\",\n              flex: 1,\n              display: \"flex\",\n              justifyContent: \"center\",\n              flexDirection: \"column\"\n            },\n            disabled: fairOverride === null\n          }, void 0), jsx_runtime_1.jsx(core_1.Button, __assign({\n            component: \"div\",\n            variant: \"contained\",\n            onClick: function () {\n              if (fair === undefined) {\n                console.error(\"Fair is undefined\");\n                return;\n              }\n\n              if (fairOverride === null) {\n                setFairOverride(fair);\n              } else {\n                setFairOverride(null);\n              }\n            },\n            className: fairOverride === null ? styles.fairAutoSelected : styles.fairAuto\n          }, {\n            children: \"Auto\"\n          }), void 0)]\n        }), void 0)]\n      }), void 0), jsx_runtime_1.jsx(\"div\", __assign({\n        style: {\n          margin: \"10px 0px\"\n        }\n      }, {\n        children: jsx_runtime_1.jsx(CloseNewAccountsSwitch, {}, void 0)\n      }), void 0), jsx_runtime_1.jsx(core_1.Button, __assign({\n        variant: \"contained\",\n        fullWidth: true,\n        disabled: swapClient.program.provider.wallet.publicKey === null,\n        onClick: function () {\n          return setShowSettingsDialog(true);\n        }\n      }, {\n        children: \"Manage Dex Accounts\"\n      }), void 0)]\n    }, void 0), jsx_runtime_1.jsx(OpenOrdersDialog_1.default, {\n      open: showSettingsDialog,\n      onClose: function () {\n        return setShowSettingsDialog(false);\n      }\n    }, void 0)]\n  }), void 0);\n}\n\nfunction CloseNewAccountsSwitch() {\n  var styles = useStyles();\n\n  var _a = Swap_1.useSwapContext(),\n      isClosingNewAccounts = _a.isClosingNewAccounts,\n      setIsClosingNewAccounts = _a.setIsClosingNewAccounts;\n\n  return jsx_runtime_1.jsx(core_1.FormGroup, __assign({\n    style: {\n      display: \"none\"\n    },\n    row: true\n  }, {\n    children: jsx_runtime_1.jsx(core_1.FormControlLabel, {\n      classes: {\n        label: styles.closeAccountSwitchLabel\n      },\n      labelPlacement: \"start\",\n      style: {\n        display: \"flex\",\n        justifyContent: \"space-between\",\n        marginLeft: 0,\n        width: \"100%\"\n      },\n      control: jsx_runtime_1.jsx(core_1.Switch, {\n        checked: isClosingNewAccounts,\n        onChange: function () {\n          return setIsClosingNewAccounts(!isClosingNewAccounts);\n        },\n        color: \"primary\"\n      }, void 0),\n      label: \"Close new accounts\"\n    }, void 0)\n  }), void 0);\n}","map":{"version":3,"sources":["/Users/453543/spl-wallet-jodc/node_modules/@project-serum/swap-ui/dist/components/Settings.js"],"names":["__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","__createBinding","create","o","m","k","k2","undefined","defineProperty","enumerable","get","__setModuleDefault","v","value","__importStar","mod","__esModule","result","__importDefault","exports","SettingsButton","jsx_runtime_1","require","react_1","core_1","icons_1","material_ui_popup_state_1","Swap_1","Dex_1","OpenOrdersDialog_1","useStyles","makeStyles","theme","tab","width","table","settingsButton","padding","color","palette","primary","main","closeAccountSwitchLabel","text","secondary","fairAutoSelected","backgroundColor","borderRadius","contrastText","fontWeight","fairAuto","type","light","boxShadow","styles","jsx","default","variant","children","popupState","jsxs","IconButton","bindTrigger","className","SettingsOutlined","Popover","bindPopover","anchorOrigin","vertical","horizontal","transformOrigin","PaperProps","style","SettingsDetails","_a","useSwapContext","slippage","setSlippage","fairOverride","setFairOverride","_b","useState","showSettingsDialog","setShowSettingsDialog","fair","useSwapFair","swapClient","useDexContext","setSlippageHandler","Typography","marginTop","fontSize","TextField","placeholder","onChange","e","parseFloat","target","display","justifyContent","flexDirection","InputProps","endAdornment","InputAdornment","position","marginRight","flex","disabled","Button","component","onClick","console","error","margin","CloseNewAccountsSwitch","fullWidth","program","provider","wallet","publicKey","open","onClose","isClosingNewAccounts","setIsClosingNewAccounts","FormGroup","row","FormControlLabel","classes","label","labelPlacement","marginLeft","control","Switch","checked"],"mappings":"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","sourcesContent":["\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SettingsButton = void 0;\nvar jsx_runtime_1 = require(\"react/jsx-runtime\");\nvar react_1 = require(\"react\");\nvar core_1 = require(\"@material-ui/core\");\nvar icons_1 = require(\"@material-ui/icons\");\nvar material_ui_popup_state_1 = __importStar(require(\"material-ui-popup-state\"));\nvar Swap_1 = require(\"../context/Swap\");\nvar Dex_1 = require(\"../context/Dex\");\nvar OpenOrdersDialog_1 = __importDefault(require(\"./OpenOrdersDialog\"));\nvar useStyles = core_1.makeStyles(function (theme) { return ({\n    tab: {\n        width: \"50%\",\n    },\n    table: {},\n    settingsButton: {\n        padding: 0,\n        color: theme.palette.primary.main,\n    },\n    closeAccountSwitchLabel: {\n        color: theme.palette.text.secondary,\n    },\n    fairAutoSelected: {\n        backgroundColor: theme.palette.primary.main,\n        padding: \"3px 5px\",\n        borderRadius: \"10px\",\n        color: theme.palette.primary.contrastText,\n        fontWeight: 700,\n    },\n    fairAuto: {\n        backgroundColor: theme.palette.type === \"dark\"\n            ? theme.palette.secondary.light\n            : theme.palette.secondary.main,\n        padding: \"3px 5px\",\n        borderRadius: \"10px\",\n        boxShadow: \"none\",\n    },\n}); });\nfunction SettingsButton() {\n    var styles = useStyles();\n    return (jsx_runtime_1.jsx(material_ui_popup_state_1.default, __assign({ variant: \"popover\" }, { children: \n        //@ts-ignore\n        function (popupState) { return (jsx_runtime_1.jsxs(\"div\", { children: [jsx_runtime_1.jsx(core_1.IconButton, __assign({}, material_ui_popup_state_1.bindTrigger(popupState), { className: styles.settingsButton }, { children: jsx_runtime_1.jsx(icons_1.SettingsOutlined, {}, void 0) }), void 0),\n                jsx_runtime_1.jsx(core_1.Popover, __assign({}, material_ui_popup_state_1.bindPopover(popupState), { anchorOrigin: {\n                        vertical: \"bottom\",\n                        horizontal: \"left\",\n                    }, transformOrigin: {\n                        vertical: \"top\",\n                        horizontal: \"right\",\n                    }, PaperProps: {\n                        style: {\n                            borderRadius: \"10px\",\n                            boxShadow: \"0px 0px 30px 5px rgba(0,0,0,0.075)\",\n                        },\n                    } }, { children: jsx_runtime_1.jsx(SettingsDetails, {}, void 0) }), void 0)] }, void 0)); } }), void 0));\n}\nexports.SettingsButton = SettingsButton;\nfunction SettingsDetails() {\n    var styles = useStyles();\n    var _a = Swap_1.useSwapContext(), slippage = _a.slippage, setSlippage = _a.setSlippage, fairOverride = _a.fairOverride, setFairOverride = _a.setFairOverride;\n    var _b = react_1.useState(false), showSettingsDialog = _b[0], setShowSettingsDialog = _b[1];\n    var fair = Swap_1.useSwapFair();\n    var swapClient = Dex_1.useDexContext().swapClient;\n    var setSlippageHandler = function (value) {\n        setSlippage(!value || value < 0 ? 0 : value);\n    };\n    return (jsx_runtime_1.jsxs(\"div\", __assign({ style: { padding: \"15px\", width: \"305px\" } }, { children: [jsx_runtime_1.jsx(core_1.Typography, __assign({ style: { fontWeight: \"bold\" } }, { children: \"Settings\" }), void 0),\n            jsx_runtime_1.jsxs(\"div\", { children: [jsx_runtime_1.jsxs(\"div\", __assign({ style: { marginTop: \"10px\" } }, { children: [jsx_runtime_1.jsx(core_1.Typography, __assign({ color: \"textSecondary\", style: { fontSize: \"12px\" } }, { children: \"Slippage tolerance\" }), void 0),\n                            jsx_runtime_1.jsx(core_1.TextField, { type: \"number\", placeholder: \"Error tolerance percentage\", value: slippage, onChange: function (e) { return setSlippageHandler(parseFloat(e.target.value)); }, style: {\n                                    display: \"flex\",\n                                    justifyContent: \"center\",\n                                    flexDirection: \"column\",\n                                }, InputProps: {\n                                    endAdornment: jsx_runtime_1.jsx(core_1.InputAdornment, __assign({ position: \"end\" }, { children: \"%\" }), void 0),\n                                } }, void 0)] }), void 0),\n                    jsx_runtime_1.jsxs(\"div\", __assign({ style: { marginTop: \"10px\" } }, { children: [jsx_runtime_1.jsx(core_1.Typography, __assign({ color: \"textSecondary\", style: { fontSize: \"12px\" } }, { children: \"Fair price\" }), void 0),\n                            jsx_runtime_1.jsxs(\"div\", __assign({ style: { display: \"flex\" } }, { children: [jsx_runtime_1.jsx(core_1.TextField, { type: \"number\", placeholder: \"Fair price override\", value: fair, onChange: function (e) { return setFairOverride(parseFloat(e.target.value)); }, style: {\n                                            marginRight: \"10px\",\n                                            flex: 1,\n                                            display: \"flex\",\n                                            justifyContent: \"center\",\n                                            flexDirection: \"column\",\n                                        }, disabled: fairOverride === null }, void 0),\n                                    jsx_runtime_1.jsx(core_1.Button, __assign({ component: \"div\", variant: \"contained\", onClick: function () {\n                                            if (fair === undefined) {\n                                                console.error(\"Fair is undefined\");\n                                                return;\n                                            }\n                                            if (fairOverride === null) {\n                                                setFairOverride(fair);\n                                            }\n                                            else {\n                                                setFairOverride(null);\n                                            }\n                                        }, className: fairOverride === null\n                                            ? styles.fairAutoSelected\n                                            : styles.fairAuto }, { children: \"Auto\" }), void 0)] }), void 0)] }), void 0),\n                    jsx_runtime_1.jsx(\"div\", __assign({ style: { margin: \"10px 0px\" } }, { children: jsx_runtime_1.jsx(CloseNewAccountsSwitch, {}, void 0) }), void 0),\n                    jsx_runtime_1.jsx(core_1.Button, __assign({ variant: \"contained\", fullWidth: true, disabled: swapClient.program.provider.wallet.publicKey === null, onClick: function () { return setShowSettingsDialog(true); } }, { children: \"Manage Dex Accounts\" }), void 0)] }, void 0),\n            jsx_runtime_1.jsx(OpenOrdersDialog_1.default, { open: showSettingsDialog, onClose: function () { return setShowSettingsDialog(false); } }, void 0)] }), void 0));\n}\nfunction CloseNewAccountsSwitch() {\n    var styles = useStyles();\n    var _a = Swap_1.useSwapContext(), isClosingNewAccounts = _a.isClosingNewAccounts, setIsClosingNewAccounts = _a.setIsClosingNewAccounts;\n    return (jsx_runtime_1.jsx(core_1.FormGroup, __assign({ style: { display: \"none\" }, row: true }, { children: jsx_runtime_1.jsx(core_1.FormControlLabel, { classes: { label: styles.closeAccountSwitchLabel }, labelPlacement: \"start\", style: {\n                display: \"flex\",\n                justifyContent: \"space-between\",\n                marginLeft: 0,\n                width: \"100%\",\n            }, control: jsx_runtime_1.jsx(core_1.Switch, { checked: isClosingNewAccounts, onChange: function () { return setIsClosingNewAccounts(!isClosingNewAccounts); }, color: \"primary\" }, void 0), label: \"Close new accounts\" }, void 0) }), void 0));\n}\n"]},"metadata":{},"sourceType":"script"}